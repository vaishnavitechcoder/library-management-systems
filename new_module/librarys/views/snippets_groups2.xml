<?xml version="1.0" encoding="utf-8"?>
<odoo>
    <!-- ✅ Define Custom Snippet Group (Fixing typo in tag name: snppiet-group → snippet-group) -->
    <template id="snippet_groups_custom" inherit_id="website.snippets" name="Add My Groups Snippet">
        <xpath expr="//snippets[@id='snippet_groups']" position="inside">
            <t snippet-group="library" t-snippet="website.s_snippet_group" string="Library"
               thumbnail="/website/static/src/img/snippets_thumbs/s_cover.svg"/>
        </xpath>
    </template>

    <!-- ✅ Define the Actual Snippet Template (Fixing tag, wrapping in <t> with t-name) -->
    <template id="library_banner_snippet" name="Library Banner">
        <t t-name="librarys.library_banner_snippet">
            <section class="oe_structure">
                <div class="container text-center py-5">
                    <h1>Library Banner</h1>
                    <p>Welcome to the digital library!</p>
                </div>
            </section>
        </t>
    </template>

    <!-- SNIPPET 2: Library Quote -->
    <template id="library_quote_snippet" name="Library Quote">
        <t t-name="librarys.library_quote_snippet">
            <section class="oe_structure">
                <div class="container text-center py-5">
                    <blockquote class="blockquote">
                        <p class="mb-0">"A room without books is like a body without a soul."</p>
                        <footer class="blockquote-footer">Cicero</footer>
                    </blockquote>
                </div>
            </section>
        </t>
    </template>

    <!-- SNIPPET 3: Library CTA -->
    <template id="library_cta_snippet" name="Library Call to Action">
        <t t-name="librarys.library_cta_snippet">
            <section class="oe_structure bg-primary text-white">
                <div class="container text-center py-5">
                    <h2>Join Our Library Today</h2>
                    <a href="/contactus" class="btn btn-light mt-3">Get Started</a>
                </div>
            </section>
        </t>
    </template>

    <template id="library_featured_books_snippet" name="Library Featured Books">
        <t t-name="librarys.library_featured_books_snippet">
            <section class="oe_structure bg-white">
                <div class="container py-5">
                    <h2 class="text-center mb-4">Featured Titles</h2>
                    <div id="featuredBooksCarousel" class="carousel slide" data-bs-ride="carousel">
                        <div class="carousel-inner">
                            <div class="carousel-item active">
                                <img src="/librarys/static/src/img/The_Great_Gatsby_Cover_1925_Retouched.jpg" class="d-block w-100 rounded shadow-sm"
                                     alt="Book 1"/>
                            </div>
                            <div class="carousel-item">
                                <img src="/librarys/static/src/img/1984.png" class="d-block w-100 rounded shadow-sm"
                                     alt="Book 2"/>
                            </div>
                            <div class="carousel-item">
                                <img src="/librarys/static/src/img/cover.jpg" class="d-block w-100 rounded shadow-sm"
                                     alt="Book 3"/>
                            </div>
                        </div>
                        <button class="carousel-control-prev" type="button" data-bs-target="#featuredBooksCarousel"
                                data-bs-slide="prev">
                            <span class="carousel-control-prev-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Previous</span>
                        </button>
                        <button class="carousel-control-next" type="button" data-bs-target="#featuredBooksCarousel"
                                data-bs-slide="next">
                            <span class="carousel-control-next-icon" aria-hidden="true"></span>
                            <span class="visually-hidden">Next</span>
                        </button>
                    </div>
                </div>
            </section>
        </t>
    </template>


    <!-- ✅ Register the Snippet in the Snippet Builder (Fixing t-snippet name and typo in xpath) -->
    <template id="add_custom_snippet_to_builder" inherit_id="website.snippets" name="Add Custom Snippet to Builder">
        <xpath expr="//snippets[@id='snippet_structure']" position="inside">
            <t t-snippet="librarys.library_banner_snippet" string="Library Banner" group="library">
                <keywords>library, banner, hero, custom</keywords>
            </t>
            <t t-snippet="librarys.library_quote_snippet" string="Library Quote" group="library">
                <keywords>quote, testimonial, phrase</keywords>
            </t>
            <t t-snippet="librarys.library_cta_snippet" string="Library CTA" group="library">
                <keywords>cta, button, call to action</keywords>
            </t>
            <t t-snippet="librarys.library_featured_books_snippet" string="Library Books Snippets" group="library">
                <keywords>cta, button, call to action</keywords>
            </t>
        </xpath>
    </template>
</odoo>
